(this.webpackJsonp=this.webpackJsonp||[]).push([[8],{1211:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(23),l=n(41),c=n(64),i=n(81);t.a=function(e){var t=Object(c.a)(),n=Object(l.a)(),a=n.textDark,s=n.textLight,m=n.placeholder;return r.a.createElement(i.a,{style:{fontSize:o.d?28:20,marginBottom:o.g.normal,color:e.disabled?m:e.amount?a:s}},e.disabled?t("n/a"):e.amount?e.amount+" "+(e.suffix||""):t("fetching"))}},1212:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(64),l=n(321);t.a=function(e){var t=e.symbol,n=Object(o.a)();return r.a.createElement(l.a,{title:t?n("insufficient-",{symbol:t}):n("insufficient-balance"),disabled:!0})}},1219:function(e,t,n){"use strict";var a=n(3),r=n.n(a),o=n(21),l=n.n(o),c=n(0),i=n.n(c),s=n(5),m=n(23),u=n(56),d=n(64),b=n(321);t.a=function(e){var t,n=Object(d.a)(),a=Object(c.useContext)(u.b).approveToken,o=Object(c.useState)(!1),f=l()(o,2),p=f[0],O=f[1],y=Object(c.useCallback)((function(){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.token){n.next=19;break}return e.onError({}),O(!0),n.prev=3,n.next=6,r.a.awrap(a(e.token.address,e.spender));case 6:if(!(t=n.sent)){n.next=11;break}return n.next=10,r.a.awrap(t.wait());case 10:e.onSuccess();case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(3),e.onError(n.t0);case 16:return n.prev=16,O(!1),n.finish(16);case 19:case"end":return n.stop()}}),null,null,[[3,13,16,19]],Promise)}),[e.token]);return e.hidden?i.a.createElement(s.a,null):i.a.createElement(b.a,{title:n("approve-",{symbol:(null==(t=e.token)?void 0:t.symbol)||""}),onPress:y,loading:p,containerStyle:{marginBottom:m.g.tiny}})}},1225:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(5),l=n(23),c=n(41),i=n(410),s=n(321),m=n(81);t.a=function(e){var t=Object(c.a)().textLight,n=(0,Object(i.a)().border)({color:e.color}),a=e.color||t;return r.a.createElement(o.a,{style:[e.clear?{}:n,e.style]},r.a.createElement(m.a,{note:!0,style:{color:a}},e.text),e.buttonText&&e.onPressButton&&r.a.createElement(s.a,{title:e.buttonText,type:"clear",size:"small",fontWeight:"bold",onPress:e.onPressButton,titleStyle:{color:a},buttonStyle:{paddingHorizontal:0,paddingVertical:0},style:{alignSelf:"flex-end",marginTop:l.g.tiny}}))}},1226:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(23),l=n(81);t.a=function(e){return r.a.createElement(l.a,{medium:!0,caption:!0,disabled:e.disabled,style:{marginLeft:o.g.tiny}},e.token.symbol)}},1230:function(e,t,n){"use strict";var a=n(139),r=n.n(a),o={};t.a=function(e,t,n){var a=e.toString();r()((function(){var n=setTimeout(e,t);return o[a]=n,n}),(function(e){clearTimeout(e)}),n)}},1231:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(23),l=n(24),c=n(81);t.a=function(e){return r.a.createElement(c.a,{caption:o.d,disabled:e.disabled,style:e.style},Object(l.d)(e.amount||e.token.balance,e.token.decimals,8))}},1232:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(23),l=n(81);t.a=function(e){return r.a.createElement(l.a,{caption:!0,numberOfLines:1,ellipsizeMode:"tail",style:{marginLeft:o.g.small,width:180},disabled:e.disabled},o.d?e.token.name:e.token.symbol)}},1237:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(5),l=n(23),c=n(1215),i=n(1220),s=n(88),m=n(1208),u=n(1209),d=n(1218),b=n(81),f=function(e){return r.a.createElement(u.a,{containerStyle:{marginBottom:m.a},style:{paddingLeft:l.g.small+l.g.tiny,paddingRight:l.g.small},selected:e.selected,disabled:e.selectable,onPress:function(){return null==e.setOption?void 0:e.setOption(e.selected?void 0:e.option)}},r.a.createElement(s.a,{style:{alignItems:"center"}},r.a.createElement(o.a,{style:{flex:1}},r.a.createElement(b.a,{fontWeight:"regular"},e.option.title),r.a.createElement(b.a,{note:!0,style:{marginTop:4}},e.option.description)),e.selected?r.a.createElement(c.a,null):r.a.createElement(d.a,null)))};t.a=function(e){return r.a.createElement(o.a,null,r.a.createElement(i.a,{title:e.title,expanded:!e.option,onExpand:function(){return e.setOption()}},e.options.map((function(t){var n;return r.a.createElement(f,{key:t.key,option:t,setOption:e.setOption,selected:t.key===(null==(n=e.option)?void 0:n.key)})}))),e.option&&r.a.createElement(f,{option:e.option,setOption:e.setOption,selected:!0,selectable:!1}))}},1238:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(24),l=n(81);t.a=function(e){return r.a.createElement(l.a,{note:!0,fontWeight:"light",disabled:e.disabled,style:e.style},Object(o.f)(e.token.priceUSD||0,4))}},1239:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(24),l=n(81);t.a=function(e){return r.a.createElement(l.a,{note:!0,fontWeight:"light",disabled:e.disabled,style:e.style},Object(o.f)(e.token.valueUSD||0,4))}},1244:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(64),l=n(321);t.a=function(e){var t=e.state,n=Object(o.a)();return r.a.createElement(l.a,{title:t.fromSymbol+"-"+t.toSymbol+" "+n("not-supported"),disabled:!0})}},1247:function(e,t,n){"use strict";var a=n(3),r=n.n(a),o=n(21),l=n.n(o),c=n(0),i=n.n(c),s=n(240),m=n(5),u=n(23),d=n(56),b=n(1230),f=n(64),p=n(1215),O=n(1220),y=n(88),k=n(1208),E=n(1222),j=n(1209),g=n(1218),v=n(81),S=n(1231),T=n(1210),x=n(1232),h=n(1238),w=n(11),P=n.n(w),A=n(90),C=n(33),F=n(41),D=n(410),B=n(322),L=n(321),z=n(1228);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(){return i.a.createElement(A.a,{size:"small",style:{position:"absolute",right:16,bottom:16}})},W=function(e){var t=Object(f.a)(),n=Object(F.a)().accent,a=Object(c.useCallback)((function(){e.onSelectToken(e.token)}),[e.onSelectToken,e.token]);return i.a.createElement(j.a,{selected:!1,disabled:!0,onPress:a,containerStyle:{marginBottom:k.a}},i.a.createElement(y.a,{style:{alignItems:"center"}},i.a.createElement(T.a,{token:e.token}),i.a.createElement(x.a,{token:e.token}),i.a.createElement(m.a,{style:{flex:1}}),i.a.createElement(L.a,{type:"clear",size:"small",color:n,title:e.duplicate?t("already-added"):t("-add-")+" "+e.token.symbol,fontWeight:"bold",onPress:a,disabled:e.duplicate,buttonStyle:{paddingHorizontal:4,height:27}})))},Z=function(e){var t=Object(f.a)(),n=Object(D.a)().border,a=Object(c.useContext)(d.b),o=a.provider,s=a.tokens,p=Object(c.useState)(),O=l()(p,2),k=O[0],E=O[1],j=Object(c.useState)(!1),g=l()(j,2),v=g[0],S=g[1],T=!!k&&-1!==s.findIndex((function(e){return e.address===k.address}));return e.tokens?(Object(c.useEffect)((function(){""===e.text&&(S(!1),E(void 0))}),[e.text]),Object(b.a)((function(){var t,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.text.trim(),!o||!C.ethers.utils.isAddress(t)){a.next=11;break}return S(!0),a.prev=3,a.next=6,r.a.awrap(Object(B.i)(t,o));case 6:(n=a.sent).name&&n.symbol&&n.decimals&&E(n);case 8:return a.prev=8,S(!1),a.finish(8);case 11:case"end":return a.stop()}}),null,null,[[3,,8,11]],Promise)}),300,[o,e.text]),i.a.createElement(m.a,null,i.a.createElement(y.a,{style:{marginBottom:u.g.small}},i.a.createElement(z.a,{value:e.text,onChangeText:e.onChangeText,placeholder:t("token-name-symbol-or-address"),autoFocus:u.d,inputStyle:{marginHorizontal:u.g.tiny,fontSize:e.text?20:16},inputContainerStyle:{borderBottomWidth:0,marginRight:v?32:0},labelStyle:{height:0},containerStyle:U(U({},n()),{},{paddingHorizontal:u.g.tiny,paddingTop:12,paddingBottom:0})}),e.onAddToken&&v&&i.a.createElement(R,null)),e.onAddToken&&k&&i.a.createElement(W,{token:k,selected:!0,onSelectToken:e.onAddToken,duplicate:T}))):i.a.createElement(m.a,null)},H=n(1226),M=n(1239),N=function(e){var t=Object(c.useContext)(d.b),n=t.loadingTokens,a=t.tokens,r=Object(c.useCallback)((function(t){var n=t.item;return i.a.createElement(V,{key:n.address,token:n,selected:!1,onSelectToken:e.onSelectToken,disabled:null==e.disabled?void 0:e.disabled(n)})}),[e.onSelectToken,e.disabled]),o=Object(c.useMemo)((function(){return a.filter((function(t){return!e.hidden||!e.hidden(t)})).sort(_)}),[a,e.hidden]);return n?i.a.createElement(E.a,null):0===o.length?i.a.createElement(J,null):i.a.createElement(s.a,{keyExtractor:function(e){return e.address},data:o,renderItem:r})},J=function(){var e=Object(f.a)();return i.a.createElement(m.a,{style:{margin:u.g.normal}},i.a.createElement(v.a,{disabled:!0,style:{textAlign:"center",width:"100%"}},e("you-dont-have-assets")))},V=function(e){var t=Object(c.useCallback)((function(){e.onSelectToken(e.token)}),[e.onSelectToken,e.token]);return i.a.createElement(j.a,{selected:e.selected,onPress:t,disabled:e.disabled||e.selectable,containerStyle:{marginBottom:k.a}},i.a.createElement(y.a,{style:{alignItems:"center"}},i.a.createElement(T.a,{token:e.token,disabled:e.disabled}),i.a.createElement(m.a,null,null!==e.token.priceUSD&&i.a.createElement(h.a,{token:e.token,disabled:e.disabled,style:{marginLeft:u.g.small}}),i.a.createElement(x.a,{token:e.token,disabled:e.disabled})),i.a.createElement(m.a,{style:{flex:1,alignItems:"flex-end"}},null!==e.token.valueUSD&&i.a.createElement(M.a,{token:e.token,disabled:e.disabled}),i.a.createElement(y.a,null,i.a.createElement(S.a,{token:e.token,disabled:e.disabled,style:{flex:1,textAlign:"right"}}),u.d&&i.a.createElement(H.a,{token:e.token,disabled:e.disabled}))),e.selected?i.a.createElement(p.a,null):i.a.createElement(g.a,null)))},_=function(e,t){if(t.balance.isZero()&&e.balance.isZero())return((null==t?void 0:t.priceUSD)||0)-((null==e?void 0:e.priceUSD)||0);var n=(null==t?void 0:t.valueUSD)||0,a=(null==e?void 0:e.valueUSD)||1;return n===a?(t.balance.isZero()?0:1e10)-(e.balance.isZero()?0:1e10)+e.symbol.localeCompare(t.symbol):n-a};t.a=function(e){var t=Object(c.useContext)(d.b),n=t.tokens,a=t.addCustomToken,o=Object(c.useState)(""),s=l()(o,2),u=s[0],f=s[1],p=Object(c.useState)(""),y=l()(p,2),k=y[0],E=y[1],j=Object(c.useMemo)((function(){return n.find((function(t){return t.symbol===e.symbol}))}),[n,e.symbol]);return Object(c.useEffect)((function(){return f("")}),[e.symbol]),Object(b.a)((function(){return E(u.trim().toLowerCase())}),300,[u]),i.a.createElement(m.a,{style:e.style},i.a.createElement(O.a,{title:e.title,expanded:!e.symbol,onExpand:function(){return e.onChangeSymbol("")}},i.a.createElement(Z,{text:u,onChangeText:f,tokens:n,onAddToken:function(t){return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(a(t));case 2:f(""),E(""),e.onChangeSymbol(t.symbol);case 5:case"end":return n.stop()}}),null,null,null,Promise)}}),i.a.createElement(N,{disabled:e.disabled,hidden:function(t){return k.length>0?!t.symbol.toLowerCase().includes(k)&&!t.name.toLowerCase().includes(k):(null==e.hidden?void 0:e.hidden(t))||!1},onSelectToken:function(t){return e.onChangeSymbol(t.symbol)}})),j&&i.a.createElement(V,{token:j,selected:!0,onSelectToken:function(){return e.onChangeSymbol("")},selectable:!0}))}},1393:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),o=n(21),l=n.n(o),c=n(11),i=n.n(c),s=n(0),m=n.n(s),u=n(12),d=n(5),b=n(33),f=n(139),p=n.n(f),O=n(1211),y=n(1219),k=n(414),E=n(1213),j=n(321),g=n(1214),v=n(411),S=n(412),T=n(1216),x=n(1221),h=n(1207),w=n(1217),P=n(1212),A=n(1223),C=n(1225),F=n(1237),D=n(81),B=n(413),L=n(1224),z=n(1247),I=n(1244),U=n(417),R=n(418),W=n(61),Z=n(23),H=n(157),M=n(56),N=n(41),J=n(1230),V=n(156),_=n(24),q=n(1233),G=n(416),K=n(423),Q=n(419),X=n(1234);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(){var e=Object(X.a)(),t=Object(s.useContext)(M.b),n=t.chainId,a=t.provider,o=t.signer,c=t.updateTokens,i=Object(G.a)().getTrade,m=Object(Q.b)(),u=m.swap,d=m.calculateSwapFee,b=Object(K.b)(),f=b.calculateLimitOrderFee,O=b.calculateLimitOrderReturn,y=Object(K.b)().createOrder,k=Object(s.useState)(!0),E=l()(k,2),j=E[0],g=E[1],v=Object(s.useState)(),S=l()(v,2),T=S[0],x=S[1],h=Object(s.useState)(),w=l()(h,2),P=w[0],A=w[1],C=Object(s.useState)(!1),F=l()(C,2),D=F[0],B=F[1],L=Object(s.useState)(""),z=l()(L,2),I=z[0],U=z[1],R=Object(s.useState)(""),W=l()(R,2),Z=W[0],N=W[1],V=Object(s.useState)(""),Y=l()(V,2),ee=Y[0],te=Y[1],ne=Object(s.useState)(""),ae=l()(ne,2),re=ae[0],oe=ae[1],le=Object(s.useState)(""),ce=l()(le,2),ie=ce[0],se=ce[1],me=Object(s.useState)(!1),ue=l()(me,2),de=ue[0],be=ue[1],fe=Object(s.useState)(!1),pe=l()(fe,2),Oe=pe[0],ye=pe[1];Object(s.useEffect)((function(){T||e.setFromSymbol(""),N("")}),[T]),Object(J.a)((function(){Object(_.j)(e.fromAmount)&&(N(""),A(void 0))}),300,[e.fromAmount]),Object(q.a)((function(t){var o,l;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(t||g(!0),o=1===n?a:M.a,!(e.fromToken&&e.toToken&&e.fromAmount&&o)){c.next=20;break}if((l=Object(_.l)(e.fromAmount,e.fromToken.decimals)).isZero()){c.next=20;break}return B(!1),c.prev=6,c.t0=A,c.next=10,r.a.awrap(i(e.fromToken,e.toToken,l,o));case 10:c.t1=c.sent,(0,c.t0)(c.t1),c.next=17;break;case 14:c.prev=14,c.t2=c.catch(6),B(!0);case 17:return c.prev=17,g(!1),c.finish(17);case 20:case"end":return c.stop()}}),null,null,[[6,14,17,20]],Promise)}),(function(){return"getTrade("+e.fromSymbol+","+e.toSymbol+","+e.fromAmount+")"}),[n,a,e.fromToken,e.toToken,e.fromAmount]),p()((function(){if(P&&!Object(_.j)(e.fromAmount)){var t=Object(_.l)(e.fromAmount,e.fromToken.decimals);U(Object(_.d)(d(t),e.fromToken.decimals,8)),"limit"===T&&(te(Object(_.d)(f(t),e.fromToken.decimals,8)),oe(Object(_.d)(d(t.sub(f(t))),e.fromToken.decimals,8)))}}),[T,P,e.fromAmount]),p()((function(){e.fromToken&&e.toToken&&!Object(_.j)(e.fromAmount)&&!Object(_.j)(Z)&&se(Object(_.d)(O(e.fromToken,e.toToken,Object(_.l)(e.fromAmount,e.fromToken.decimals),Z),e.toToken.decimals))}),[e.fromToken,e.toToken,e.fromAmount,Z]);var ke=Object(s.useCallback)((function(){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e.fromToken&&e.toToken&&e.fromAmount&&o&&P)){n.next=16;break}return be(!0),n.prev=2,n.next=5,r.a.awrap(u(P,o));case 5:if(!(t=n.sent)){n.next=13;break}return n.next=9,r.a.awrap(t.tx.wait());case 9:return n.next=11,r.a.awrap(c());case 11:A(void 0),x(void 0);case 13:return n.prev=13,be(!1),n.finish(13);case 16:case"end":return n.stop()}}),null,null,[[2,,13,16]],Promise)}),[e.fromToken,e.toToken,e.fromAmount,o,P]),Ee=Object(s.useCallback)((function(){var t,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(e.fromToken&&e.toToken&&e.fromAmount&&!Object(_.j)(Z)&&o)){a.next=14;break}return ye(!0),a.prev=2,t=Object(_.l)(e.fromAmount,e.fromToken.decimals),a.next=6,r.a.awrap(y(e.fromToken,e.toToken,t,H.a.parse(Z).apply(t).mul(Object(_.n)(e.toToken.decimals)).div(Object(_.n)(e.fromToken.decimals)),o));case 6:return n=a.sent,a.next=9,r.a.awrap(n.wait());case 9:A(void 0),x(void 0);case 11:return a.prev=11,ye(!1),a.finish(11);case 14:case"end":return a.stop()}}),null,null,[[2,,11,14]],Promise)}),[n,e.fromToken,e.toToken,e.fromAmount,o,Z]);return $($({},e),{},{loading:j||e.loading,orderType:T,setOrderType:x,trade:P,unsupported:D,swapFee:I,limitOrderPrice:Z,setLimitOrderPrice:N,limitOrderFee:ee,limitOrderSwapFee:re,limitOrderReturn:ie,onSwap:ke,swapping:de,limitOrderUnsupported:"limit"===T&&(Object(_.h)(e.fromToken)||Object(_.h)(e.toToken)),onCreateOrder:Ee,creatingOrder:Oe})},te=n(64),ne=n(415);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=function(){var e=Object(s.useContext)(M.b).chainId,t=ee();return 1!==e&&42!==e?m.a.createElement(g.a,null):m.a.createElement(d.a,{style:{marginTop:Z.g.large}},m.a.createElement(le,{state:t}),m.a.createElement(E.a,null),m.a.createElement(ce,{state:t}),m.a.createElement(E.a,null),m.a.createElement(ie,{state:t}),m.a.createElement(E.a,null),m.a.createElement(se,{state:t}),"limit"===t.orderType&&m.a.createElement(d.a,{style:{marginTop:Z.g.small}},m.a.createElement(E.a,null),m.a.createElement(me,{state:t})),!t.loading&&!t.trade&&m.a.createElement(de,{state:t}),m.a.createElement(be,{state:t}))},le=function(e){var t=e.state,n=Object(te.a)(),a=[{key:"market",title:n("market-order"),description:n("market-order-desc")},{key:"limit",title:n("limit-order"),description:n("limit-order-desc")}];return m.a.createElement(m.a.Fragment,null,m.a.createElement(F.a,{title:n("order-type"),options:a,option:a.find((function(e){return e.key===t.orderType})),setOption:function(e){return t.setOrderType(null==e?void 0:e.key)}}))},ce=function(e){var t=e.state,n=Object(te.a)(),a=Object(s.useContext)(M.b),r=a.tokens,o=a.customTokens;if(!t.orderType)return m.a.createElement(h.a,{text:n("token-to-sell"),disabled:!0});var l=r?r.find((function(e){return Object(_.h)(e)})):null;return m.a.createElement(d.a,null,m.a.createElement(z.a,{title:n("token-to-sell"),symbol:t.fromSymbol,onChangeSymbol:t.setFromSymbol,hidden:function(e){return!o.find((function(t){return t.address===e.address}))&&e.balance.isZero()||"limit"===t.orderType&&Object(_.h)(e)}}),"limit"===t.orderType&&!t.fromSymbol&&l&&!l.balance.isZero()&&m.a.createElement(ue,null))},ie=function(e){var t=e.state,n=Object(te.a)();if(!t.orderType||!t.fromSymbol)return m.a.createElement(h.a,{text:n("token-to-buy"),disabled:!0});var a="limit"===t.orderType;return m.a.createElement(d.a,null,m.a.createElement(z.a,{title:n("token-to-buy"),symbol:t.toSymbol,onChangeSymbol:function(e){t.setToSymbol(a&&"ETH"===e?"WETH":e)},hidden:function(e){return e.symbol===t.fromSymbol||a&&Object(_.h)(e)}}),"limit"===t.orderType&&!t.toSymbol&&m.a.createElement(ue,null))},se=function(e){var t=e.state,n=Object(te.a)();return t.fromSymbol&&t.toSymbol?m.a.createElement(d.a,null,m.a.createElement(h.a,{text:t.fromSymbol+" "+n("amount")}),m.a.createElement(L.a,{token:t.fromToken,amount:t.fromAmount,onAmountChanged:t.setFromAmount,autoFocus:Z.d})):m.a.createElement(h.a,{text:n("amount"),disabled:!0})},me=function(e){var t=e.state,n=Object(te.a)();if(!t.fromSymbol||!t.toSymbol)return m.a.createElement(h.a,{text:n("minimum-price"),disabled:!0});var a=t.toToken&&t.trade?Object(_.l)(t.trade.executionPrice.toFixed(t.toToken.decimals),t.toToken.decimals):b.ethers.constants.Zero;return m.a.createElement(L.a,{title:n("minimum-price")+" ("+t.fromSymbol+"/"+t.toSymbol+")",token:re(re({},t.toToken),{},{balance:a}),amount:t.limitOrderPrice,onAmountChanged:t.setLimitOrderPrice,maxButtonText:n("-market-")})},ue=function(){var e=Object(N.a)().placeholder,t=Object(te.a)();return m.a.createElement(C.a,{text:t("eth-not-supported-for-limit-orders"),color:e,clear:!0,style:{marginVertical:Z.g.small,marginHorizontal:Z.g.tiny}})},de=function(e){var t=e.state,n=Object(te.a)();return m.a.createElement(C.a,{text:n("pair-not-created",{fromSymbol:t.fromSymbol,toSymbol:t.toSymbol}),color:"red",style:{marginTop:Z.g.normal}})},be=function(e){var t=e.state,n=Object(s.useContext)(M.b).chainId,a=Object(te.a)();if(Object(_.i)(t.fromToken,t.toToken))return m.a.createElement(fe,{state:t});var r=""===t.fromSymbol||""===t.toSymbol||Object(_.j)(t.fromAmount)||"limit"===t.orderType&&Object(_.h)(t.fromToken)||!t.loading&&!t.trade,o=Object(V.a)("https://faucet.kovan.network/","","_blank");return m.a.createElement(w.a,null,"limit"===t.orderType?m.a.createElement(m.a.Fragment,null,m.a.createElement(je,{state:t}),42===n&&m.a.createElement(C.a,{text:a("get-free-keth-here"),buttonText:a("get-keth"),onPressButton:o,color:"orange",style:{marginTop:Z.g.small}})):m.a.createElement(pe,{state:t,disabled:r}))},fe=function(e){var t=e.state,n=Object(_.j)(t.fromAmount);return m.a.createElement(w.a,null,m.a.createElement(D.a,{style:{fontSize:28,marginBottom:Z.g.normal},disabled:n},n?"N/A":t.fromAmount+" "+t.toSymbol),m.a.createElement(Oe,{state:t}))},pe=function(e){var t,n,a,r,o,l,c=e.state,i=e.disabled,s=Object(te.a)(),u=null==(t=c.trade)||null==(n=t.outputAmount)?void 0:n.toFixed(),b=null==(a=c.trade)||null==(r=a.executionPrice)?void 0:r.toFixed(),f=null==(o=c.trade)||null==(l=o.priceImpact)?void 0:l.toFixed(2);return m.a.createElement(d.a,null,m.a.createElement(O.a,{amount:u,suffix:c.toSymbol,disabled:i}),m.a.createElement(A.a,{label:s("price"),text:b,suffix:c.toSymbol+"  = 1 "+c.fromSymbol,disabled:i}),m.a.createElement(A.a,{label:s("price-impact"),text:f,suffix:"%",disabled:i}),m.a.createElement(A.a,{label:s("fee-amount"),text:c.swapFee,suffix:c.fromSymbol,disabled:i}),m.a.createElement(Oe,{state:c}))},Oe=function(e){var t=e.state,n=Object(s.useState)({}),a=l()(n,2),r=a[0],o=a[1];p()((function(){return o({})}),[t.fromSymbol,t.toSymbol,t.fromAmount]);var c=!Object(_.h)(t.fromToken)&&!t.fromTokenAllowed;return m.a.createElement(d.a,{style:{marginTop:Z.g.normal}},t.fromToken&&t.toToken&&!Object(_.j)(t.fromAmount)&&(t.loading||t.trade)?Object(_.l)(t.fromAmount,t.fromToken.decimals).gt(t.fromToken.balance)?m.a.createElement(P.a,{symbol:t.fromSymbol}):Object(_.k)(t.fromToken)&&Object(_.h)(t.toToken)?m.a.createElement(Ee,{state:t,onError:o}):Object(_.h)(t.fromToken)&&Object(_.k)(t.toToken)?m.a.createElement(ke,{state:t,onError:o}):t.unsupported?m.a.createElement(I.a,{state:t}):t.loading||!t.trade?m.a.createElement(x.a,null):m.a.createElement(m.a.Fragment,null,m.a.createElement(y.a,{token:t.fromToken,spender:W.d,onSuccess:function(){return t.setFromTokenAllowed(!0)},onError:o,hidden:!c}),m.a.createElement(ye,{state:t,onError:o,disabled:c})):m.a.createElement(ye,{state:t,onError:o,disabled:!0}),r.message&&4001!==r.code&&m.a.createElement(T.a,{error:r}))},ye=function(e){var t=e.state,n=e.onError,a=e.disabled,r=Object(te.a)(),o=Object(s.useCallback)((function(){n({}),t.onSwap().catch(n)}),[t.onSwap,n]);return m.a.createElement(j.a,{title:r("swap-",{symbol:t.fromSymbol&&t.toSymbol?" "+t.fromSymbol+"-"+t.toSymbol:""}),disabled:a,loading:t.swapping,onPress:o})},ke=function(e){var t=e.state,n=e.onError,a=Object(te.a)(),o=Object(s.useCallback)((function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n({}),t.onWrap().catch(n);case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[]);return m.a.createElement(j.a,{title:a("wrap"),loading:t.wrapping,onPress:o})},Ee=function(e){var t=e.state,n=e.onError,a=Object(te.a)(),o=Object(s.useCallback)((function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n({}),t.onUnwrap().catch(n);case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[]);return m.a.createElement(j.a,{title:a("unwrap"),loading:t.unwrapping,onPress:o})},je=function(e){var t,n,a,r=e.state,o=Object(te.a)(),l=!(null==(t=r.trade)?void 0:t.executionPrice);return m.a.createElement(d.a,null,m.a.createElement(D.a,{disabled:Object(_.j)(r.limitOrderReturn),style:{fontSize:28,marginBottom:Z.g.normal}},Object(_.j)(r.limitOrderReturn)?"N/A":r.limitOrderReturn+" "+r.toSymbol),m.a.createElement(A.a,{label:o("market-price"),text:(null==(n=r.trade)||null==(a=n.executionPrice)?void 0:a.toFixed(8))||void 0,suffix:r.fromSymbol+" / "+r.toSymbol,disabled:l}),m.a.createElement(A.a,{label:o("relayer-fee-amount"),text:r.limitOrderFee,suffix:r.fromSymbol,disabled:l}),m.a.createElement(A.a,{label:o("swap-fee-amount"),text:r.limitOrderSwapFee,suffix:r.fromSymbol,disabled:l}),m.a.createElement(A.a,{label:o("expiration"),text:o("24-hours-from-now"),disabled:l}),m.a.createElement(ge,{state:r}))},ge=function(e){var t=e.state,n=Object(s.useContext)(M.b),a=n.address,o=n.chainId,c=Object(s.useState)({}),i=l()(c,2),u=i[0],f=i[1],O=Object(s.useState)(),k=l()(O,2),E=k[0],j=k[1];p()((function(){return f({})}),[t.fromSymbol,t.toSymbol,t.fromAmount]),Object(J.a)((function(){var e,n,o;return r.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(!t.fromToken||Object(_.j)(t.fromAmount)){l.next=7;break}return e=Object(_.l)(t.fromAmount,t.fromToken.decimals),n=Object(_.g)("ERC20",t.fromToken.address,M.a),l.next=5,r.a.awrap(n.allowance(a,W.e));case 5:o=l.sent,j(b.ethers.BigNumber.from(o).gte(e));case 7:case"end":return l.stop()}}),null,null,null,Promise)}),500,[t.fromToken,t.fromAmount]);var v="market"===t.orderType||""===t.toSymbol||!t.fromToken||!t.toToken||Object(_.j)(t.fromAmount)||!t.trade||Object(_.j)(t.limitOrderPrice);return m.a.createElement(d.a,{style:{marginTop:Z.g.normal}},v?m.a.createElement(Se,{state:t,onError:f,disabled:!0}):Object(_.l)(t.fromAmount,t.fromToken.decimals).gt(t.fromToken.balance)?m.a.createElement(P.a,{symbol:t.fromSymbol}):H.a.parse(t.limitOrderPrice).gt(H.a.parse(t.trade.executionPrice.toFixed(t.toToken.decimals)))?t.unsupported?m.a.createElement(I.a,{state:t}):t.loading||!t.trade?m.a.createElement(x.a,null):m.a.createElement(m.a.Fragment,null,1===o?m.a.createElement(y.a,{token:t.fromToken,spender:W.e,onSuccess:function(){return j(!0)},onError:f,hidden:E}):E?m.a.createElement(d.a,null):m.a.createElement(g.a,null),m.a.createElement(Se,{state:t,onError:f,disabled:!E})):m.a.createElement(ve,null),u.message&&4001!==u.code&&m.a.createElement(T.a,{error:u}))},ve=function(){var e=Object(te.a)();return m.a.createElement(j.a,{title:e("set-price-greater-than-market"),disabled:!0})},Se=function(e){var t=e.state,n=e.onError,a=e.disabled,o=Object(s.useContext)(M.b).chainId,l=Object(te.a)(),c=Object(V.a)("/swap/my-orders","LimitOrders"),i=Object(s.useCallback)((function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return n({}),e.prev=1,e.next=4,r.a.awrap(t.onCreateOrder());case 4:c(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(e.t0);case 10:case"end":return e.stop()}}),null,null,[[1,7]],Promise)}),[t.onCreateOrder,c,n]);return a||42===o?m.a.createElement(j.a,{title:l("place-limit-order"),disabled:a,loading:t.creatingOrder,onPress:i}):m.a.createElement(g.a,{chainId:42})};t.default=function(){var e=Object(te.a)();return m.a.createElement(ne.a,null,m.a.createElement(v.a,null,m.a.createElement(k.a,null),m.a.createElement(S.a,null,m.a.createElement(B.a,{text:e("new-order")}),m.a.createElement(D.a,{light:!0},e("new-order-desc")),m.a.createElement(oe,null)),"web"===u.a.OS&&m.a.createElement(U.a,null)),m.a.createElement(R.e,null))}}}]);
//# sourceMappingURL=8.d0f78a71.chunk.js.map